import traceback
import json
import sys

def _init():
	input_data = json.loads( sys.argv[1] )
	lambda_input = input_data[ "lambda_input" ]
	context = input_data[ "context" ]
	try:
		output = main( lambda_input, context )
		print( "<REFINERY_OUTPUT_CUSTOM_RUNTIME_START_MARKER>" + json.dumps( output ) + "<REFINERY_OUTPUT_CUSTOM_RUNTIME_END_MARKER>" )
	except:
		print( "<REFINERY_ERROR_OUTPUT_CUSTOM_RUNTIME_START_MARKER>" + traceback.format_exc() + "<REFINERY_ERROR_OUTPUT_CUSTOM_RUNTIME_END_MARKER>" )
		exit(-1)
		
	exit(0)
_init()